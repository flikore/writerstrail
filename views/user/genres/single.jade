extends ../../layout

block content
  h1= title
  
  .btn-group(role='toolbar')
    a.btn.btn-lg.btn-default(href='/genres' title='List of all genres' role='button')
      span.fa.fa-list.fa-lg
    a.btn.btn-lg.btn-default(href='/projects?genreid=' + genre.id title='List of projects with this genre' role='button')
      span.fa.fa-files-o.fa-lg
    a.btn.btn-lg.btn-default(href='/projects/new?genreid=' + genre.id title='New project with this genre' role='button')
      span.fa.fa-file-o.fa-lg
    a.btn.btn-lg.btn-default(href='/genres/' + genre.id + '/edit' title='Edit this genre' role='button')
      span.fa.fa-edit.fa-lg
    p &nbsp;
  
  .row
    .col-sm-2.text-right
      strong Name:
    .col-sm-10
      = genre.name
    
  .row
    .col-sm-2.text-right
      strong Description:  
    .col-sm-10
      - var descPieces = genre.description.split(/(?:\r\n|\r|\n)/g)
      for desc, i in descPieces
        if i > 0
          br
        = desc
        
  .row
    .col-sm-2.text-right
      strong Projects with this:  
    .col-sm-10
      for project, i in genre.projects
        if i > 0
          | ,&nbsp;
        a(href='/projects/' + project.id title='View project ' + project.name)= project.name