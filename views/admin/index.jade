extends ../layout

block content
    h1 Administration page
    .row
        .col-sm-6
            .well
                h3 New invitation code
                form#invitations(method='post' action='/admin/invitation')
                    .input-group
                        label.control-label(for='invitation_code') Invitation code
                        input#invitation_code.form-control(type='text' placeholder='Code' name='invCode' autofocus=true)
                        input(type='hidden' name='_csrf' value=csrf)
                    .input-group
                        label.control-label(for='invitation_admount') Amount
                        input#invitation_amount.form-control(type='number' placeholder='Amount' name='invAmount' value='1')
                    br
                    button#gen_code.btn.btn-default(type='button') Generate
                    | &nbsp;
                    button.btn.btn-primary(type='submit') Create code
        .col-sm-6
            .well
                h3 Available invitation codes:
                - if (!codes || codes.length == 0)
                    p No code available &nbsp;
                        span.fa.fa-frown-o
                - else
                    .panel.panel-default
                        form.panel-body(method='post' action='/admin/deleteinvitation')
                            input(type='hidden' name='_csrf' value=csrf)
                            table.table
                                theader
                                    tr
                                        th Delete
                                        th Code
                                tbody
                                    each code in codes
                                        tr
                                            td
                                                button.btn.btn-danger(type="submit" name="invId" value=code.id) Delete
                                            td
                                                != code.code + '&nbsp;'
                                                span.badge= code.amount

append scripts
    script(src='/scripts/admin.js' type='text/javascript')